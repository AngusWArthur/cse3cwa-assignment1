:root {
  --bg: #ffffff;
  --fg: #111111;
  --muted: #666666;
  --link: #0a66c2;
  --card: #f5f5f5;
  --focus: #ffbf47;
}
:root[data-theme='dark'] {
  --bg: #0b0b0b;
  --fg: #e8e8e8;
  --muted: #aaaaaa;
  --link: #7ab4ff;
  --card: #121212;
  --focus: #ffd24a;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--fg);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.5;
}
a { color: var(--link); text-decoration: none; }
a:focus, button:focus { outline: 3px solid var(--focus); outline-offset: 2px; }

.layout {
  min-height: 100dvh;
  display: grid;
  grid-template-rows: auto 1fr auto;
}

.skip-link {
  position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden;
}
.skip-link:focus {
  position: static; width: auto; height: auto; padding: 8px 12px; background: var(--focus); color: #000;
}

/* Header and three-column alignment */
.header {
  position: sticky; top: 0; z-index: 10;
  background: var(--card); border-bottom: 1px solid #00000020;
}
.header-inner {
  max-width: 1120px; margin: 0 auto; padding: 10px 16px;
}
.header-grid {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
}
.header-left { display: inline-flex; align-items: center; gap: 8px; justify-self: start; }
.header-center { justify-self: center; }
.header-right { justify-self: end; }

.brand { display: inline-flex; gap: 10px; align-items: baseline; font-weight: 600; }
.student-id { font-weight: 700; }
.site-title { font-weight: 700; color: var(--fg); }

/* Hamburger icon with transform to "X" */
.burger {
  width: 40px; height: 32px; position: relative; border: none; background: none; cursor: pointer;
}
.burger-line {
  position: absolute; left: 4px; right: 4px; height: 3px; background: var(--fg);
  border-radius: 2px; transition: transform .2s ease, opacity .2s ease, top .2s ease;
}
.burger-line:nth-child(1) { top: 6px; }
.burger-line:nth-child(2) { top: 14.5px; }
.burger-line:nth-child(3) { top: 23px; }
.burger[data-open="true"] .burger-line:nth-child(1) { top: 14.5px; transform: rotate(45deg); }
.burger[data-open="true"] .burger-line:nth-child(2) { opacity: 0; }
.burger[data-open="true"] .burger-line:nth-child(3) { top: 14.5px; transform: rotate(-45deg); }

/* Theme toggle (right) */
.nav-toggle {
  background: none; border: 1px solid #00000033; padding: 6px 10px; border-radius: 8px; cursor: pointer;
}

/* Slide-in drawer + backdrop */
.drawer {
  position: fixed; z-index: 1000;
  top: 0; left: 0; bottom: 0;
  width: 280px; max-width: 85vw;
  background: var(--card);
  box-shadow: 0 0 0 1px #00000020, 0 10px 30px #00000033;
  transform: translateX(-100%);
  transition: transform .25s ease;
  padding: 16px;
}
.drawer.open { transform: translateX(0); }

.drawer-list { list-style: none; margin: 0; padding: 0; display: grid; gap: 10px; }
.drawer-list a { color: var(--fg); }
.drawer-list a[aria-current="page"] { text-decoration: underline; }

.backdrop {
  position: fixed; z-index: 999; inset: 0;
  background: rgba(0,0,0,.4);
  opacity: 0; pointer-events: none;
  transition: opacity .2s ease;
}
.backdrop.show { opacity: 1; pointer-events: auto; }

.main { max-width: 1120px; margin: 0 auto; padding: 20px 16px; }
.footer { background: var(--card); border-top: 1px solid #00000020; }
.footer-inner { max-width: 1120px; margin: 0 auto; padding: 16px; font-size: 0.95rem; color: var(--muted); }
